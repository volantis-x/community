"use strict";var ContributorsJS={requestAPI:function(r,t,e){var n=5;!function a(){return new Promise(function(o,i){var u=0,s=setTimeout(function(){0===u&&(u=2,s=null,i("请求超时"),0==n&&e())},5e3);fetch(r).then(function(r){if(2!==u&&(clearTimeout(s),o(r),s=null,u=1),r.ok)return r.json();throw new Error("Network response was not ok.")}).then(function(r){n=0,t(r)})["catch"](function(r){n>0?(n-=1,setTimeout(function(){a()},5e3)):e()})})}()},layout:function(r){var t=r.el;ContributorsJS.requestAPI(r.api,function(e){t.querySelector(".loading-wrap").remove();var n="";(e||[]).forEach(function(t,e){var a='<div class="user-card">';a+='<a class="card-link" target="_blank" rel="external noopener noreferrer"',a+=' href="'+t.html_url+'">',a+='<img alt="'+t.login+'" src="'+(t.avatar_url||r.avatar)+'" onerror="errorImgAvatar(this)">',a+='<div class="name"><span>'+t.login+"</span></div>",a+="</a>",n+=a+="</div>"}),t.querySelector(".group-body").innerHTML=n},function(){try{t.querySelector(".loading-wrap svg").remove(),t.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(r){}})},start:function(){for(var r=document.getElementsByClassName("contributorsjs-wrap"),t=0;t<r.length;t++){var e=r[t],n=e.getAttribute("api");if(null!=n){var a=new Object;a.el=e,a.api=n,a["class"]=e.getAttribute("class"),a.avatar=volantis.GLOBAL_CONFIG["default"].avatar,ContributorsJS.layout(a)}}}};ContributorsJS.start();
//# sourceMappingURL=../../../maps/js/plugins/tags/contributors.js.map
